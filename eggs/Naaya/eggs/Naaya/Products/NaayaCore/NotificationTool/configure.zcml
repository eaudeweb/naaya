<configure xmlns="http://namespaces.zope.org/zope"
           xmlns:zcml="http://namespaces.zope.org/zcml">

  <subscriber
    handler="Products.NaayaCore.NotificationTool.subscribers.handle_object_add"
    for="naaya.content.base.interfaces.INyContentObjectAddEvent"
    />

  <subscriber
    handler="Products.NaayaCore.NotificationTool.subscribers.handle_csv_import"
    for="Products.NaayaCore.interfaces.ICSVImportEvent"
    />

  <subscriber
    handler="Products.NaayaCore.NotificationTool.subscribers.handle_zip_import"
    for="Products.NaayaCore.interfaces.IZipImportEvent"
    />

  <subscriber
    handler="Products.NaayaCore.NotificationTool.subscribers.handle_object_edit"
    for="naaya.content.base.interfaces.INyContentObjectEditEvent"
    />

  <adapter
    factory=".NotificationTool.NotificationsPortlet"
    name="portlet_notifications"
    />

  <adapter
    factory=".NotificationTool.subscription_container_factory"
    />

  <class class="Products.Naaya.NySite.NySite">
    <implements interface=".interfaces.ISubscriptionTarget" />
  </class>

  <class class="Products.NaayaBase.NyContentType.NyContentType">
    <implements interface=".interfaces.ISubscriptionTarget" />
  </class>

  <configure zcml:condition="installed Products.naayaUpdater">
    <utility name="remove_notification_userid_spaces.update"
             provides="Products.naayaUpdater.interfaces.IUpdateScript"
             component=".updates.RemoveNotifUseridSpaces"
             permission="zope2.ViewManagementScreens" />
    <utility name="add_pending_subscriptions_container.update"
             provides="Products.naayaUpdater.interfaces.IUpdateScript"
             component=".updates.AddPendingSubscriptionsContainer"
             permission="zope2.ViewManagementScreens" />
  </configure>

</configure>
